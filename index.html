<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Externally Yours Productions, LLC - Professional video and film production services">
    <title>Externally Yours Productions, LLC</title>
    <link rel="icon" type="image/png" href="EYP Logo_New.png">
    
    <!-- Performance optimizations: Resource hints for faster external resource loading -->
    <link rel="dns-prefetch" href="https://www.honeybook.com">
    <link rel="preconnect" href="https://widget.honeybook.com" crossorigin>
    
    <!-- Preload critical hero image for faster LCP (Largest Contentful Paint) -->
    <link rel="preload" as="image" href="Grace and Dillon Wedding/7L8A5712.jpg" fetchpriority="high">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #1a1a1a;
            --secondary-color: #ffffff;
            --accent-color: #ff6b35;
            --text-dark: #333;
            --text-light: #666;
            --bg-light: #f8f8f8;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            overflow-x: hidden;
        }

        /* Navigation */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(26, 26, 26, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            text-decoration: none;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
        }

        .logo img {
            height: 80px;
            width: auto;
            max-width: 400px;
        }
        
        /* Optimize image loading */
        img {
            max-width: 100%;
            height: auto;
            /* Improve image rendering performance */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
            /* Prevent layout shift */
            content-visibility: auto;
        }
        
        /* Force hardware acceleration for image transforms */
        .portfolio-item img,
        .gallery-item img {
            will-change: transform;
            backface-visibility: hidden;
            transform: translateZ(0);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--secondary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .nav-links a:hover {
            color: var(--accent-color);
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        /* Mobile Menu Dropdown */
        @media (max-width: 768px) {
            .nav-links.mobile-open {
                display: flex !important;
                flex-direction: column;
                position: fixed;
                top: 70px;
                left: 0;
                right: 0;
                width: 100%;
                background: rgba(26, 26, 26, 0.98);
                backdrop-filter: blur(10px);
                padding: 1rem 0;
                gap: 0;
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
                animation: slideDown 0.3s ease;
                z-index: 1001;
                max-height: calc(100vh - 70px);
                overflow-y: auto;
            }

            .nav-links.mobile-open li {
                width: 100%;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .nav-links.mobile-open li:last-child {
                border-bottom: none;
            }

            .nav-links.mobile-open a {
                display: block;
                padding: 1rem 2rem;
                width: 100%;
                color: var(--secondary-color);
            }

            .nav-links.mobile-open a:hover {
                background: rgba(255, 107, 53, 0.1);
                color: var(--accent-color);
            }
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
                        url('Grace and Dillon Wedding/7L8A5712.jpg') center/cover;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--secondary-color);
            margin-top: 70px;
        }

        .hero-content h1 {
            font-size: 4.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            animation: fadeInUp 1s ease;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            letter-spacing: 1px;
        }

        .hero-content p {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            animation: fadeInUp 1s ease 0.2s both;
        }

        .cta-button {
            display: inline-block;
            padding: 1rem 2.5rem;
            background: var(--accent-color);
            color: var(--secondary-color);
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: fadeInUp 1s ease 0.4s both;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
        }

        /* Sections */
        section {
            padding: 5rem 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: var(--primary-color);
        }

        /* About Section */
        .about {
            background: var(--bg-light);
        }

        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
        }

        .about-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-light);
        }

        .about-image {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        /* Services Section */
        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: var(--secondary-color);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .service-card p {
            color: var(--text-light);
        }

        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        /* Portfolio Section */
        .portfolio {
            background: var(--bg-light);
        }

        .portfolio-category {
            margin-bottom: 4rem;
        }

        .portfolio-category:last-child {
            margin-bottom: 0;
        }

        .portfolio-category-title {
            font-size: 2rem;
            margin-bottom: 2rem;
            color: var(--primary-color);
            font-weight: 600;
        }

        .portfolio-project {
            margin-bottom: 3rem;
        }

        .portfolio-project-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--text-dark);
            font-weight: 500;
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .portfolio-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            aspect-ratio: 16/9;
            background: var(--primary-color);
            cursor: pointer;
        }

        .portfolio-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .portfolio-item:hover img {
            transform: scale(1.1);
        }

        .portfolio-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(26, 26, 26, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .portfolio-item:hover .portfolio-overlay {
            opacity: 1;
        }

        .portfolio-overlay h3 {
            color: var(--secondary-color);
            font-size: 1.5rem;
        }

        /* Gallery Modal */
        .gallery-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            overflow: auto;
        }

        .gallery-modal.active {
            display: block;
        }

        .gallery-modal-content {
            position: relative;
            margin: 2% auto;
            padding: 20px;
            max-width: 1400px;
        }

        .gallery-close {
            position: absolute;
            top: 20px;
            right: 35px;
            color: var(--secondary-color);
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2001;
        }

        .gallery-close:hover {
            color: var(--accent-color);
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin-top: 50px;
        }

        .gallery-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            aspect-ratio: 16/9;
            background: var(--primary-color);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover img {
            transform: scale(1.05);
        }

        /* Testimonials Section */
        .testimonials {
            background: var(--secondary-color);
        }

        .testimonials-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .testimonial-card {
            background: var(--bg-light);
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .testimonial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .testimonial-content {
            margin-bottom: 1.5rem;
        }

        .testimonial-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-light);
            font-style: italic;
            margin: 0;
        }

        .testimonial-service {
            border-top: 1px solid #e0e0e0;
            padding-top: 1rem;
        }

        .testimonial-service-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--primary-color);
            margin: 0;
        }

        .testimonial-date {
            font-size: 0.85rem;
            color: var(--text-light);
            margin-top: 0.25rem;
        }

        /* Contact Section */
        .contact-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
        }

        .contact-info h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .contact-info p {
            color: var(--text-light);
            margin-bottom: 1.5rem;
        }

        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .hb-p-64f2adb3998a8300079826c0-1 {
            width: 100%;
            min-height: 600px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
        }

        .form-group label {
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--text-dark);
        }

        .form-group input,
        .form-group textarea {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 5px;
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--accent-color);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 150px;
        }

        .submit-button {
            padding: 1rem 2rem;
            background: var(--primary-color);
            color: var(--secondary-color);
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .submit-button:hover {
            background: var(--accent-color);
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            background: var(--primary-color);
            color: var(--secondary-color);
            padding: 2rem 0;
            text-align: center;
        }

        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            list-style: none;
        }

        .social-links a {
            color: var(--secondary-color);
            font-size: 1.5rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: var(--accent-color);
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            nav .container {
                position: relative;
            }

            .nav-links {
                display: none !important;
            }

            .mobile-menu-toggle {
                display: block !important;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1.2rem;
            }

            .about-content,
            .contact-content {
                grid-template-columns: 1fr;
            }

            .services-grid,
            .portfolio-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
                text-align: center;
            }
        }

        /* Placeholder for images - replace with your actual images */
        .placeholder-image {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }

        /* Available Dates Calendar Styles */
        .available-dates-section {
            padding: 4rem 0;
            background: var(--bg-light);
        }

        .dates-calendar-wrapper {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: 0 auto;
        }

        .calendar-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .calendar-nav button {
            padding: 0.5rem 1rem;
            background: var(--accent-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: background 0.3s ease;
        }

        .calendar-nav button:hover {
            background: var(--primary-color);
        }

        .calendar-nav h3 {
            margin: 0;
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .calendar-today-btn {
            text-align: center;
            margin-bottom: 1rem;
        }

        .calendar-today-btn button {
            padding: 0.5rem 1rem;
            background: var(--text-light);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.9rem;
        }

        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
            font-size: 0.85rem;
        }

        .calendar-day-header {
            text-align: center;
            font-weight: bold;
            padding: 0.5rem;
            background: var(--bg-light);
            color: var(--text-dark);
        }

        .calendar-day {
            padding: 0.5rem;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            text-align: center;
            min-height: 50px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .calendar-day.available {
            background: #d4edda;
            border-color: #28a745;
            color: #155724;
            font-weight: bold;
        }

        .calendar-day.blocked {
            background: #1a1a1a;
            border-color: #000;
            color: #fff;
            font-weight: bold;
            opacity: 0.7;
        }

        .calendar-day.other-month {
            opacity: 0.3;
            background: var(--bg-light);
        }

        .calendar-day.today {
            background: var(--accent-color);
            color: white;
            font-weight: bold;
        }

        .calendar-legend {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 2rem;
            font-size: 0.9rem;
            flex-wrap: wrap;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 3px;
            border: 1px solid #ccc;
        }

        .legend-color.available {
            background: #d4edda;
            border-color: #28a745;
        }

        .legend-color.blocked {
            background: #1a1a1a;
            border-color: #000;
        }

        .legend-color.today {
            background: var(--accent-color);
        }

        /* Calendar Mobile Styles */
        @media (max-width: 768px) {
            .available-dates-section {
                padding: 2rem 0;
            }

            .dates-calendar-wrapper {
                padding: 1rem;
                margin: 0 1rem;
            }

            .calendar-nav {
                flex-wrap: wrap;
                gap: 0.5rem;
                margin-bottom: 1rem;
            }

            .calendar-nav button {
                padding: 0.4rem 0.75rem;
                font-size: 0.85rem;
                flex: 0 0 auto;
            }

            .calendar-nav h3 {
                font-size: 1.1rem;
                flex: 1 1 100%;
                text-align: center;
                order: -1;
                margin-bottom: 0.5rem;
            }

            .calendar-today-btn {
                margin-bottom: 0.75rem;
            }

            .calendar-today-btn button {
                padding: 0.4rem 0.75rem;
                font-size: 0.85rem;
            }

            .calendar-grid {
                gap: 0.25rem;
                font-size: 0.75rem;
            }

            .calendar-day-header {
                padding: 0.375rem 0.25rem;
                font-size: 0.75rem;
            }

            .calendar-day {
                padding: 0.375rem 0.25rem;
                min-height: 40px;
                font-size: 0.8rem;
            }

            .calendar-legend {
                gap: 1rem;
                margin-top: 1rem;
                font-size: 0.8rem;
                justify-content: center;
            }

            .legend-item {
                gap: 0.375rem;
            }

            .legend-color {
                width: 16px;
                height: 16px;
            }
        }

        @media (max-width: 480px) {
            .dates-calendar-wrapper {
                padding: 0.75rem;
                margin: 0 0.5rem;
            }

            .calendar-nav h3 {
                font-size: 1rem;
            }

            .calendar-nav button {
                padding: 0.35rem 0.6rem;
                font-size: 0.8rem;
            }

            .calendar-today-btn button {
                padding: 0.35rem 0.6rem;
                font-size: 0.8rem;
            }

            .calendar-grid {
                gap: 0.2rem;
                font-size: 0.7rem;
            }

            .calendar-day-header {
                padding: 0.3rem 0.2rem;
                font-size: 0.7rem;
            }

            .calendar-day {
                padding: 0.3rem 0.2rem;
                min-height: 35px;
                font-size: 0.75rem;
            }

            .calendar-legend {
                flex-direction: column;
                align-items: center;
                gap: 0.75rem;
                font-size: 0.75rem;
            }
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }

        .chatbot-button {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--primary-color);
            color: var(--secondary-color);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .chatbot-button:hover {
            background: var(--accent-color);
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }

        .chatbot-button.active {
            background: var(--accent-color);
        }

        .chatbot-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            width: 20px;
            height: 20px;
            background: #ff0000;
            border-radius: 50%;
            display: none;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .chatbot-badge.show {
            display: flex;
        }

        .chatbot-window {
            position: absolute;
            bottom: 80px;
            right: 0;
            width: 400px;
            height: 550px;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
            animation: slideUp 0.3s ease;
        }

        .chatbot-window.active {
            display: flex;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chatbot-header {
            background: var(--primary-color);
            color: var(--secondary-color);
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chatbot-header h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 500;
        }

        .chatbot-close {
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: background 0.2s ease;
        }

        .chatbot-close:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .chatbot-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            background: #f8f8f8;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .chatbot-message {
            max-width: 80%;
            padding: 0.875rem 1.125rem;
            border-radius: 15px;
            word-wrap: break-word;
            animation: fadeIn 0.3s ease;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .chatbot-message.bot {
            background: var(--secondary-color);
            color: var(--text-dark);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .chatbot-message.user {
            background: var(--primary-color);
            color: var(--secondary-color);
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }

        .chatbot-input-container {
            padding: 1rem;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 0.5rem;
        }

        .chatbot-input {
            flex: 1;
            padding: 0.75rem;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 0.95rem;
            outline: none;
            transition: border-color 0.3s ease;
        }

        .chatbot-input:focus {
            border-color: var(--accent-color);
        }

        .chatbot-send {
            padding: 0.75rem 1.5rem;
            background: var(--primary-color);
            color: var(--secondary-color);
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: background 0.3s ease;
        }

        .chatbot-send:hover {
            background: var(--accent-color);
        }

        .chatbot-send:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .chatbot-typing {
            display: none;
            padding: 0.75rem 1rem;
            background: var(--secondary-color);
            border-radius: 15px;
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            max-width: 75%;
        }

        .chatbot-typing.show {
            display: block;
        }

        .chatbot-typing span {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--text-light);
            margin: 0 2px;
            animation: typing 1.4s infinite;
        }

        .chatbot-typing span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .chatbot-typing span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
            }
            30% {
                transform: translateY(-10px);
            }
        }

        @media (max-width: 768px) {
            .chatbot-container {
                bottom: 15px;
                right: 15px;
            }

            .chatbot-button {
                width: 56px;
                height: 56px;
                font-size: 1.5rem;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
            }

            .chatbot-window {
                position: fixed;
                bottom: 85px;
                right: 10px;
                left: 10px;
                width: calc(100vw - 20px);
                max-width: none;
                min-width: auto;
                height: calc(70vh);
                min-height: 450px;
                max-height: 650px;
                border-radius: 15px;
                animation: slideUpMobile 0.3s ease;
            }

            @keyframes slideUpMobile {
                from {
                    opacity: 0;
                    transform: translateY(20px);
                }
                to {
                    opacity: 1;
                    transform: translateY(0);
                }
            }

            .chatbot-header {
                padding: 1rem;
                position: sticky;
                top: 0;
                z-index: 10;
            }

            .chatbot-header h3 {
                font-size: 1.1rem;
            }

            .chatbot-close {
                width: 36px;
                height: 36px;
                font-size: 1.6rem;
            }

            .chatbot-messages {
                padding: 1rem;
                flex: 1;
                overflow-y: auto;
                -webkit-overflow-scrolling: touch;
                gap: 1rem;
            }

            .chatbot-message {
                max-width: 90%;
                padding: 1rem 1.125rem;
                font-size: 1rem;
                line-height: 1.6;
                word-wrap: break-word;
                overflow-wrap: break-word;
            }

            .chatbot-input-container {
                padding: 1rem;
                position: sticky;
                bottom: 0;
                background: white;
                border-top: 1px solid #e0e0e0;
                z-index: 10;
            }

            .chatbot-input {
                padding: 0.875rem 1.125rem;
                font-size: 1rem;
                border-radius: 25px;
                -webkit-appearance: none;
                appearance: none;
                width: 100%;
            }

            .chatbot-send {
                padding: 0.75rem 1.25rem;
                font-size: 0.9rem;
                min-width: 70px;
                border-radius: 25px;
            }

            .chatbot-typing {
                max-width: 90%;
                padding: 1rem 1.125rem;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="index.html" class="logo">
                <img src="EYP Logo_New.png" alt="Externally Yours Productions, LLC" loading="eager" fetchpriority="high" decoding="async">
            </a>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="photography.html">Photography</a></li>
                <li><a href="videography.html">Videography</a></li>
                <li><a href="dj-entertainment.html">DJ Entertainment</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <button class="mobile-menu-toggle">â˜°</button>
        </div>
    </nav>

    <!-- Hero Section -->
    <section id="home" class="hero">
        <div class="hero-content">
            <h1>Externally Yours Productions, LLC</h1>
            <p>Creating compelling visual stories and DJ entertainment that captivate audiences</p>
            <a href="#contact" class="cta-button">Get In Touch</a>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services">
        <div class="container">
            <h2 class="section-title">Our Services</h2>
            <div class="services-grid">
                <div class="service-card">
                    <div class="service-icon">ðŸŽ¥</div>
                    <h3>Videography</h3>
                    <p>Professional videography services for events, weddings, corporate productions, and special occasions. We capture your moments with cinematic quality and creative storytelling.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">ðŸ“¸</div>
                    <h3>Photography</h3>
                    <p>High-quality photography services including wedding photography, events, portraits, products, and commercial shoots. We capture the moments that matter with artistic vision and technical excellence.</p>
                </div>
                <div class="service-card">
                    <div class="service-icon">ðŸŽ§</div>
                    <h3>DJ Entertainment</h3>
                    <p>High-energy, professional DJ services for weddings, parties, corporate events, and celebrations. Our DJs bring positive energy and vibrant vibes to your party with professional equipment and seamless mixing.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section id="portfolio" class="portfolio">
        <div class="container">
            <h2 class="section-title">Our Work</h2>
            
            <!-- Photography Category -->
            <div class="portfolio-category">
                <h3 class="portfolio-category-title">Photography</h3>
                <div class="portfolio-grid">
                    <!-- Random selection from Grace and Dillon Wedding -->
                    <a href="photography.html#grace-dillon-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Grace and Dillon Wedding/7L8A5634.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Grace and Dillon Wedding</h3>
                            </div>
                        </div>
                    </a>
                    <a href="photography.html#grace-dillon-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Grace and Dillon Wedding/IMG_2274.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Grace and Dillon Wedding</h3>
                            </div>
                        </div>
                    </a>
                    
                    <!-- Random selection from Yazmine and Josh Wedding -->
                    <a href="photography.html#yazmine-josh-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Yazmine and Josh Wedding/IMG_4085.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Yazmine and Josh Wedding</h3>
                            </div>
                        </div>
                    </a>
                    <a href="photography.html#yazmine-josh-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Yazmine and Josh Wedding/IMG_4205.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Yazmine and Josh Wedding</h3>
                            </div>
                        </div>
                    </a>
                    
                    <!-- Random selection from Prom 2025 -->
                    <a href="photography.html#prom-2025-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Prom 2025/7L8A9552.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Prom 2025</h3>
                            </div>
                        </div>
                    </a>
                    <a href="photography.html#prom-2025-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Prom 2025/7L8A9613.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Prom 2025</h3>
                            </div>
                        </div>
                    </a>
                    
                    <!-- Random selection from Amy and Cody Hardy Wedding -->
                    <a href="photography.html#amy-cody-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Amy and Cody Hardy Wedding/E72A0917.jpg" alt="Amy and Cody Hardy Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Amy and Cody Hardy Wedding</h3>
                            </div>
                        </div>
                    </a>
                    <a href="photography.html#amy-cody-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Amy and Cody Hardy Wedding/E72A0956.jpg" alt="Amy and Cody Hardy Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Amy and Cody Hardy Wedding</h3>
                            </div>
                        </div>
                    </a>
                    <a href="photography.html#amy-cody-gallery" style="text-decoration: none; display: block;">
                        <div class="portfolio-item">
                            <img src="Amy and Cody Hardy Wedding/E72A0984.jpg" alt="Amy and Cody Hardy Wedding" loading="lazy" decoding="async" fetchpriority="auto">
                            <div class="portfolio-overlay">
                                <h3>Amy and Cody Hardy Wedding</h3>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="testimonials">
        <div class="container">
            <h2 class="section-title">What Our Clients Say</h2>
            <div class="testimonials-grid" id="testimonials-container">
                <!-- Photography Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"The photography team captured our wedding day perfectly! Every moment was beautifully documented, and we now have stunning photos that we'll treasure forever. Their attention to detail and creative eye made our special day even more memorable."</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">Photography Services</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>

                <!-- Videography Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Our wedding video exceeded all expectations! The team created a cinematic masterpiece that perfectly captured the emotion and joy of our celebration. Every time we watch it, we're transported back to that magical day. Absolutely incredible work!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">Videography Services</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>

                <!-- DJ Entertainment Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"The DJ brought incredible energy to our wedding reception! The dance floor was packed all night, and the music selection was perfect. They kept the party going and made sure everyone had an amazing time. Highly professional and super fun!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">DJ Entertainment</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>

                <!-- Photography Testimonial 2 -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Professional, talented, and so easy to work with! The photographers made us feel comfortable throughout the entire session and delivered breathtaking photos. We couldn't be happier with the results and would definitely book them again."</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">Photography Services</p>
                        <p class="testimonial-date">2024</p>
                    </div>
                </div>

                <!-- Videography Testimonial 2 -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"The highlight film they created was absolutely stunning! It beautifully told our story and captured all the special moments. The quality is outstanding, and we love sharing it with family and friends. Worth every penny!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">Videography Services</p>
                        <p class="testimonial-date">2024</p>
                    </div>
                </div>

                <!-- DJ Entertainment Testimonial 2 -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Best DJ we've ever worked with! They understood exactly what we wanted and kept the energy high all night. The sound quality was perfect, the music selection was spot-on, and they made our event unforgettable. Our guests are still talking about how great the music was!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">DJ Entertainment</p>
                        <p class="testimonial-date">2024</p>
                    </div>
                </div>

                <!-- Gavin Wedding DJ Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Gavin was absolutely amazing at our wedding! He kept the dance floor packed all night long with an incredible mix of music that appealed to all our guests. His professionalism and attention to detail were outstanding. Gavin made sure our special day had the perfect soundtrack, and we couldn't have been happier. We highly recommend Gavin for any wedding celebration!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">DJ Entertainment</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>

                <!-- Will DJ Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Will made our wedding reception absolutely incredible! His energy and enthusiasm were contagious, and he had everyone on the dance floor from the first song to the last. Will took the time to understand our music preferences and created the perfect atmosphere for our celebration. His professional setup and seamless transitions kept the party going all night. We couldn't have asked for a better DJ experience. Thank you, Will!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">DJ Entertainment</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>

                <!-- Stephen DJ Testimonial -->
                <div class="testimonial-card">
                    <div class="testimonial-content">
                        <p class="testimonial-text">"Stephen was absolutely phenomenal at our wedding! He created an unforgettable atmosphere that had our guests dancing all night long. Stephen's attention to detail, professionalism, and ability to read the crowd was incredible. He seamlessly mixed the perfect songs that kept everyone on the dance floor. Our wedding reception wouldn't have been the same without Stephen's amazing DJ skills. Highly recommend Stephen for any event!"</p>
                    </div>
                    <div class="testimonial-service">
                        <p class="testimonial-service-label">DJ Entertainment</p>
                        <p class="testimonial-date">2025</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Submit Review Section -->
    <section id="submit-review" style="background: var(--bg-light); padding: 4rem 0;">
        <div class="container">
            <h2 class="section-title">Share Your Experience</h2>
            <p style="text-align: center; color: var(--text-light); margin-bottom: 2rem;">
                We'd love to hear about your experience with Externally Yours Productions!
            </p>
            <div style="max-width: 700px; margin: 0 auto; background: white; padding: 2rem; border-radius: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);">
                <form id="review-form" style="display: flex; flex-direction: column; gap: 1.5rem;">
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-client-name" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">Your Name *</label>
                        <input type="text" id="review-client-name" required style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit;">
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-service-type" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">Service Type *</label>
                        <select id="review-service-type" required style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit;">
                            <option value="">Select a service...</option>
                            <option value="Photography Services">Photography Services</option>
                            <option value="Videography Services">Videography Services</option>
                            <option value="DJ Entertainment">DJ Entertainment</option>
                        </select>
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-dj-name" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">DJ Name (Optional)</label>
                        <input type="text" id="review-dj-name" placeholder="Leave blank if not applicable" style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit;">
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-rating" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">Rating (1-5 stars)</label>
                        <select id="review-rating" style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit;">
                            <option value="">Select rating...</option>
                            <option value="5">5 Stars</option>
                            <option value="4">4 Stars</option>
                            <option value="3">3 Stars</option>
                            <option value="2">2 Stars</option>
                            <option value="1">1 Star</option>
                        </select>
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-comment" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">Your Review *</label>
                        <textarea id="review-comment" required rows="5" style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit; resize: vertical;" placeholder="Share your experience with us..."></textarea>
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <label for="review-event-date" style="margin-bottom: 0.5rem; font-weight: 500; color: var(--text-dark);">Event Date (Optional)</label>
                        <input type="date" id="review-event-date" style="padding: 0.75rem; border: 2px solid #e0e0e0; border-radius: 5px; font-size: 1rem; font-family: inherit;">
                    </div>
                    <div id="review-message" style="display: none; padding: 1rem; border-radius: 5px; margin-top: 1rem;"></div>
                    <button type="submit" style="padding: 1rem 2rem; background: var(--accent-color); color: white; border: none; border-radius: 5px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: background 0.3s ease;">
                        Submit Review
                    </button>
                    <p style="font-size: 0.85rem; color: var(--text-light); text-align: center; margin-top: 0.5rem;">
                        * Reviews are subject to approval before being published.
                    </p>
                </form>
            </div>
        </div>
    </section>

    <!-- Available Dates Section -->
    <section id="available-dates" class="available-dates-section">
        <div class="container">
            <h2 class="section-title">Available Dates</h2>
            <p style="text-align: center; color: var(--text-light); margin-bottom: 2rem;">
                Check our availability for upcoming bookings. Dates with scheduled events are shown as unavailable.
            </p>
            <div id="dates-calendar-container" class="dates-calendar-wrapper">
                <!-- Calendar will be generated immediately by JavaScript -->
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section id="contact">
        <div class="container">
            <h2 class="section-title">Get In Touch</h2>
            <div class="contact-content">
                <div class="contact-info">
                    <h3>Let's Work Together</h3>
                    <p>Have a project in mind? We'd love to hear from you. Send us a message and we'll respond as soon as possible.</p>
                    <p><strong>Email:</strong> lee@externallyyoursproductions.com</p>
                    <p><strong>Phone:</strong> 229-326-5408</p>
                    <p><strong>Address:</strong> Tifton, Georgia 31794</p>
                </div>
                <div class="hb-p-64f2adb3998a8300079826c0-1"></div>
                <img height="1" width="1" style="display:none" src="https://www.honeybook.com/p.png?pid=64f2adb3998a8300079826c0" loading="lazy" decoding="async">
                <script>
                  // Defer Honeybook script to improve page load performance
                  (function(h,b,s,n,i,p,e,t) {
                    h._HB_ = h._HB_ || {};h._HB_.pid = i;;;;
                    t=b.createElement(s);t.type="text/javascript";t.async=!0;t.defer=!0;t.src=n;
                    e=b.getElementsByTagName(s)[0];e.parentNode.insertBefore(t,e);
                  })(window,document,"script","https://widget.honeybook.com/assets_users_production/websiteplacements/placement-controller.min.js","64f2adb3998a8300079826c0");
                </script>
            </div>
        </div>
    </section>

    <!-- Gallery Modal -->
    <div id="grace-dillon-gallery" class="gallery-modal">
        <span class="gallery-close" onclick="closeGallery('grace-dillon-gallery')">&times;</span>
        <div class="gallery-modal-content">
            <h2 style="color: white; text-align: center; margin-top: 20px;">Grace and Dillon Wedding</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/7L8A5365.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/7L8A5634.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/7L8A5712.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/IMG_2274.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/IMG_2400.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/IMG_2497 (1).jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Grace and Dillon Wedding/IMG_2543.jpg" alt="Grace and Dillon Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
            </div>
        </div>
    </div>

    <!-- Yazmine and Josh Wedding Gallery Modal -->
    <div id="yazmine-josh-gallery" class="gallery-modal">
        <span class="gallery-close" onclick="closeGallery('yazmine-josh-gallery')">&times;</span>
        <div class="gallery-modal-content">
            <h2 style="color: white; text-align: center; margin-top: 20px;">Yazmine and Josh Wedding</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_3957.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4058.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4085.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4116.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4133.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4205.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4324.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Yazmine and Josh Wedding/IMG_4385.jpg" alt="Yazmine and Josh Wedding" loading="lazy" decoding="async" fetchpriority="low">
                </div>
            </div>
        </div>
    </div>

    <!-- Prom 2025 Gallery Modal -->
    <div id="prom-2025-gallery" class="gallery-modal">
        <span class="gallery-close" onclick="closeGallery('prom-2025-gallery')">&times;</span>
        <div class="gallery-modal-content">
            <h2 style="color: white; text-align: center; margin-top: 20px;">Prom 2025</h2>
            <div class="gallery-grid">
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9549.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9551.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9552.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9553.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9562.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9598.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9613.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9649.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
                <div class="gallery-item">
                    <img src="Prom 2025/7L8A9661.jpg" alt="Prom 2025" loading="lazy" decoding="async" fetchpriority="low">
                </div>
            </div>
        </div>
    </div>

    <!-- Chatbot Widget -->
    <div class="chatbot-container">
        <button class="chatbot-button" id="chatbotToggle" aria-label="Open chat">
            ðŸ’¬
        </button>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <h3>Chat with us</h3>
                <button class="chatbot-close" id="chatbotClose" aria-label="Close chat">Ã—</button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="chatbot-message bot" id="chatbotWelcomeMessage">
                    <p>Hello! ðŸ‘‹ Welcome to Externally Yours Productions. How can we help you today?</p>
                </div>
            </div>
            <div class="chatbot-typing" id="chatbotTyping">
                <span></span><span></span><span></span>
            </div>
            <div class="chatbot-input-container">
                <input type="text" class="chatbot-input" id="chatbotInput" placeholder="Type your message..." />
                <button class="chatbot-send" id="chatbotSend">Send</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2024 Externally Yours Productions, LLC. All rights reserved.</p>
                <ul class="social-links">
                    <li><a href="#" aria-label="Facebook">ðŸ“˜</a></li>
                    <li><a href="#" aria-label="Instagram">ðŸ“·</a></li>
                    <li><a href="#" aria-label="Twitter">ðŸ¦</a></li>
                    <li><a href="#" aria-label="YouTube">ðŸ“º</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        // Smooth scrolling for navigation links (only for same-page anchors)
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                const href = this.getAttribute('href');
                // Only apply smooth scrolling to same-page anchors (href starts with # and doesn't contain a path)
                // Exclude cross-page navigation links like "photography.html#gallery"
                if (href.startsWith('#') && !href.includes('.html') && !href.includes('/')) {
                    e.preventDefault();
                    const target = document.querySelector(href);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
                // If it's a cross-page link with hash, let the browser handle navigation normally
            });
        });

        // Mobile menu toggle with dropdown
        const mobileMenuToggle = document.querySelector('.mobile-menu-toggle');
        const navLinks = document.querySelector('.nav-links');
        
        if (mobileMenuToggle && navLinks) {
            // Ensure menu is hidden on page load
            navLinks.classList.remove('mobile-open');
            
            mobileMenuToggle.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                
                // Toggle the mobile-open class
                const isOpen = navLinks.classList.contains('mobile-open');
                
                if (isOpen) {
                    navLinks.classList.remove('mobile-open');
                    mobileMenuToggle.textContent = 'â˜°';
                } else {
                    navLinks.classList.add('mobile-open');
                    mobileMenuToggle.textContent = 'âœ•';
                }
            });

            // Close menu when clicking outside
            document.addEventListener('click', (e) => {
                if (navLinks.classList.contains('mobile-open')) {
                    if (!navLinks.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
                        navLinks.classList.remove('mobile-open');
                        mobileMenuToggle.textContent = 'â˜°';
                    }
                }
            });

            // Close menu when clicking a link
            const navLinksItems = navLinks.querySelectorAll('a');
            navLinksItems.forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('mobile-open');
                    mobileMenuToggle.textContent = 'â˜°';
                });
            });
        }

        // Form submission (basic implementation - you'll need to connect to a backend)

        // Chatbot functionality
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotTyping = document.getElementById('chatbotTyping');

        // Package information
        const packages = {
            photography: {
                basic: {
                    name: 'Basic Photography Package',
                    price: 'Starting at $1,200',
                    includes: [
                        '4 hours of professional coverage',
                        '1 experienced photographer',
                        '100+ edited high-resolution images',
                        'Professional color correction and editing',
                        'Online gallery for viewing and sharing (90 days access)',
                        'Digital download of all images (JPEG format)',
                        'Print release for personal use',
                        'Basic retouching included',
                        'Social media ready images',
                        'Password-protected gallery'
                    ],
                    timeline: 'Images delivered within 4-6 weeks',
                    addons: [
                        'Additional hour: $200',
                        'Engagement session: $400',
                        'Second shooter: $300',
                        'Rush editing (2 weeks): $300'
                    ],
                    description: 'Perfect for smaller events, elopements, or shorter celebrations. Ideal for couples who want beautiful memories without full-day coverage.'
                },
                standard: {
                    name: 'Standard Photography Package',
                    price: 'Starting at $2,000',
                    includes: [
                        '6-8 hours of professional coverage',
                        '1 experienced photographer',
                        '200+ edited high-resolution images',
                        'Professional color correction and editing',
                        'Advanced retouching on select images',
                        'Online gallery with print release (1 year access)',
                        'Digital download of all images (JPEG format)',
                        'Both color and black & white versions',
                        'Social media ready images',
                        'Password-protected gallery',
                        'Engagement session available (discounted add-on)',
                        'Getting ready, ceremony, and reception coverage',
                        'Family and group photos included'
                    ],
                    timeline: 'Images delivered within 3-4 weeks',
                    addons: [
                        'Additional hour: $200',
                        'Engagement session: $300 (discounted from $400)',
                        'Second shooter: $300',
                        'Rush editing (2 weeks): $300',
                        'Extended gallery access (2 years): $100',
                        'Professional prints: Starting at $25'
                    ],
                    description: 'Our most popular package for weddings and major events. Comprehensive coverage from getting ready through reception with beautiful storytelling.'
                },
                premium: {
                    name: 'Premium Photography Package',
                    price: 'Starting at $3,500',
                    includes: [
                        'Full day coverage (up to 10 hours)',
                        '2 professional photographers (primary + second shooter)',
                        '400+ edited high-resolution images',
                        'Professional color correction and editing',
                        'Premium retouching on all images',
                        'Online gallery with print release (2 years access)',
                        'Digital download of all images (JPEG + RAW available)',
                        'Both color and black & white versions',
                        'Social media ready images',
                        'Password-protected gallery',
                        'Engagement session included (1.5-2 hours)',
                        '20-page professional wedding album (11x14 or 12x12)',
                        'Getting ready, ceremony, and reception coverage',
                        'Multiple angles and perspectives',
                        'Detail shots (rings, flowers, dÃ©cor)',
                        'Reception dancing and candid moments',
                        'Complimentary consultation and planning session',
                        'Timeline assistance and vendor coordination',
                        'Backup equipment and professional gear'
                    ],
                    timeline: 'Images delivered within 2-3 weeks, Album within 6-8 weeks',
                    addons: [
                        'Additional hour: $200',
                        'Additional engagement session locations: $150',
                        'Parent albums (duplicate copies): $400 each',
                        'Extended gallery access (unlimited): $200',
                        'Rush editing (1 week): $500',
                        'Video slideshow: $300',
                        'Professional prints and canvases: Starting at $25'
                    ],
                    description: 'Comprehensive coverage for your most important day. Two photographers ensure nothing is missed, with premium editing, physical album, and engagement session included.'
                }
            },
            videography: {
                basic: {
                    name: 'Basic Videography Package',
                    price: 'Starting at $1,500',
                    includes: [
                        '4 hours of professional video coverage',
                        '1 experienced videographer',
                        '3-5 minute cinematic highlight reel',
                        'Full ceremony recording (unedited)',
                        'Audio recording of vows and speeches',
                        'Digital download of all footage (HD quality)',
                        'Online video gallery (90 days access)',
                        'Color correction and basic editing',
                        'Music licensing included',
                        'Social media ready clips',
                        'Password-protected gallery',
                        'Multiple camera setup for ceremony'
                    ],
                    timeline: 'Final video delivered within 6-8 weeks',
                    addons: [
                        'Additional hour: $250',
                        'Extended highlight reel (7-10 min): $400',
                        'Drone footage: $500',
                        'Second videographer: $400',
                        'Rush editing (4 weeks): $400',
                        'Same-day edit: $600'
                    ],
                    description: 'Essential video coverage for your special moments. Perfect for capturing the key moments of your celebration in beautiful cinematic style.'
                },
                standard: {
                    name: 'Standard Videography Package',
                    price: 'Starting at $2,500',
                    includes: [
                        '6-8 hours of professional video coverage',
                        '1-2 experienced videographers',
                        '5-7 minute cinematic highlight reel',
                        'Full ceremony recording (edited)',
                        'Full reception recording (edited)',
                        'Audio recording of vows, speeches, and toasts',
                        'Digital download of all footage (HD quality)',
                        'Online video gallery (1 year access)',
                        'Professional color grading and editing',
                        'Music licensing included',
                        'Social media ready clips',
                        'Password-protected gallery',
                        'Multiple camera angles for ceremony',
                        'Drone footage (aerial shots, if applicable)',
                        'Getting ready coverage',
                        'Reception highlights and dancing'
                    ],
                    timeline: 'Final video delivered within 5-6 weeks',
                    addons: [
                        'Additional hour: $250',
                        'Extended highlight reel (10-15 min): $600',
                        'Same-day edit (sneak peek): $600',
                        'Second videographer (full day): $400',
                        'Additional drone footage: $300',
                        'Rush editing (3 weeks): $500',
                        'Extended gallery access (2 years): $150',
                        'RAW footage delivery: $200'
                    ],
                    description: 'Comprehensive video coverage with cinematic quality. Multiple cameras and professional editing ensure you capture every important moment beautifully.'
                },
                premium: {
                    name: 'Premium Videography Package',
                    price: 'Starting at $4,000',
                    includes: [
                        'Full day coverage (up to 10 hours)',
                        '2 professional videographers',
                        '8-10 minute cinematic highlight reel',
                        'Full ceremony recording (multi-camera, edited)',
                        'Full reception recording (multi-camera, edited)',
                        'Same-day edit (3-5 minute sneak peek delivered same day)',
                        'Getting ready footage (bride and groom prep)',
                        'Audio recording of vows, speeches, and toasts',
                        'Digital download of all footage (4K quality)',
                        'Online video gallery (2 years access)',
                        'Professional color grading and cinematic editing',
                        'Music licensing included',
                        'Social media ready clips',
                        'Password-protected gallery',
                        'Multiple camera angles (3-4 cameras)',
                        'Drone footage included (aerial shots and venue overview)',
                        'Cinematic transitions and effects',
                        'Slow-motion highlights',
                        'Raw footage delivery (optional)',
                        'Complimentary consultation and planning session',
                        'Backup equipment and professional gear',
                        'USB drive with all footage'
                    ],
                    timeline: 'Same-day edit delivered day of event, Final video within 4-5 weeks',
                    addons: [
                        'Additional hour: $250',
                        'Extended highlight reel (15-20 min): $800',
                        'Additional videographer: $400',
                        'Extended drone coverage: $400',
                        'Rush editing (2 weeks): $800',
                        'Extended gallery access (unlimited): $250',
                        'Additional USB drives: $50 each',
                        'Video slideshow/photography integration: $500',
                        'Documentary style edit: $600'
                    ],
                    description: 'The ultimate video experience with cinematic storytelling. Two videographers, multiple cameras, drone footage, and same-day edit ensure nothing is missed. Premium editing creates a film-quality keepsake of your special day.'
                }
            },
            dj: {
                basic: {
                    name: 'Basic DJ Package',
                    price: 'Starting at $800',
                    includes: [
                        '4 hours of professional DJ service',
                        'Professional sound system (speakers and subwoofers)',
                        'Wireless microphone for speeches and announcements',
                        'Basic lighting setup (2-4 lights)',
                        'Extensive music library (all genres and decades)',
                        'Professional DJ/MC services',
                        'Music consultation before event',
                        'Ceremony sound system (if on-site)',
                        'Setup and breakdown included',
                        'Professional mixing and beat-matching',
                        'Backup equipment on hand'
                    ],
                    timeline: 'Consultation 2-3 weeks before event, Setup 1 hour before start',
                    addons: [
                        'Additional hour: $150',
                        'Enhanced lighting package: $200',
                        'Second wireless microphone: $50',
                        'Cocktail hour music: $200',
                        'Ceremony sound (separate location): $150',
                        'Photo booth integration: $300'
                    ],
                    description: 'Perfect for smaller events, intimate gatherings, or shorter celebrations. Professional DJ service with quality sound and basic lighting to keep your guests entertained.'
                },
                standard: {
                    name: 'Standard DJ Package',
                    price: 'Starting at $1,200',
                    includes: [
                        '5-6 hours of professional DJ service',
                        'Professional sound system (powered speakers and subwoofers)',
                        'Wireless microphones (2) for speeches and toasts',
                        'Enhanced lighting package (4-6 lights)',
                        'Dance floor lighting effects (color washes, patterns)',
                        'Extensive music library (all genres and decades)',
                        'Professional DJ/MC services',
                        'Music consultation and planning session',
                        'Ceremony and reception sound system',
                        'Setup and breakdown included (2 hours setup time)',
                        'Professional mixing and beat-matching',
                        'Backup equipment and redundancy',
                        'Song request management',
                        'Custom playlist creation',
                        'Wireless microphone for officiant'
                    ],
                    timeline: 'Consultation 3-4 weeks before event, Setup 2 hours before start',
                    addons: [
                        'Additional hour: $150',
                        'Premium lighting upgrade: $300',
                        'Uplighting for venue (up to 12 lights): $400',
                        'Fog machine and special effects: $150',
                        'Cocktail hour music: $200',
                        'Photo booth integration: $300',
                        'Second DJ/backup: $300',
                        'Extended setup time: $100/hour'
                    ],
                    description: 'Our most popular package for weddings and parties. Enhanced lighting and professional MC services ensure your event flows smoothly and guests stay on the dance floor all night.'
                },
                premium: {
                    name: 'Premium DJ Package',
                    price: 'Starting at $1,800',
                    includes: [
                        'Full event coverage (up to 8 hours)',
                        'Professional sound system with backup (dual systems)',
                        'Wireless microphones (3) for multiple speakers',
                        'Premium lighting package (8-12 lights)',
                        'Advanced dance floor lighting effects (moving heads, lasers, LED)',
                        'Uplighting for venue (up to 16 lights, color customization)',
                        'Fog machine and special effects',
                        'Extensive music library (all genres, decades, and custom requests)',
                        'Professional DJ/MC services',
                        'Comprehensive music consultation and planning session',
                        'Ceremony sound system (complete setup)',
                        'Cocktail hour music included',
                        'Reception sound and lighting',
                        'Setup and breakdown included (flexible timing)',
                        'Professional mixing, beat-matching, and live remixing',
                        'Backup equipment and full redundancy',
                        'Song request management system',
                        'Custom playlist creation and timeline coordination',
                        'Wireless microphone for officiant',
                        'Microphone for venue announcements',
                        'Photo booth integration (wireless sync available)',
                        'Event coordination and timeline management',
                        'Early setup available (day before if needed)',
                        'Professional staging and equipment presentation'
                    ],
                    timeline: 'Consultation 4-6 weeks before event, Flexible setup timing',
                    addons: [
                        'Additional hour: $150',
                        'Additional uplighting units: $25 each',
                        'Additional moving head lights: $200 each',
                        'Laser light show: $400',
                        'Photo booth package (complete): $600',
                        'Second DJ for extended coverage: $400',
                        'Live streaming of event: $300',
                        'Custom monogram projection: $250',
                        'Wireless microphones (additional): $50 each',
                        'Extended coverage (10+ hours): $200/hour'
                    ],
                    description: 'The ultimate party experience with premium sound and lighting. Comprehensive coverage from ceremony through reception with professional MC services, stunning lighting effects, and seamless event coordination. Perfect for couples who want an unforgettable celebration.'
                }
            },
            combo: {
                photography_videography: {
                    name: 'Photo + Video Combo Package',
                    price: 'Starting at $3,500',
                    includes: [
                        'Standard Photography Package (all features)',
                        'Standard Videography Package (all features)',
                        'Coordinated timeline between photographers and videographers',
                        'Shared planning session for seamless coverage',
                        'Dual coverage discount (save $500+)',
                        '6-8 hours of combined coverage',
                        '200+ edited photos',
                        '5-7 minute cinematic highlight reel',
                        'Full ceremony and reception video coverage',
                        'Online galleries for both photos and videos (1 year access)',
                        'Digital downloads of all content',
                        'Professional editing and color grading',
                        'Drone footage included (if applicable)'
                    ],
                    timeline: 'Photos delivered in 3-4 weeks, Videos in 5-6 weeks',
                    addons: [
                        'Upgrade to Premium Photography: +$1,500',
                        'Upgrade to Premium Videography: +$1,500',
                        'Engagement session: $300',
                        'Extended highlight reel: $600',
                        'Additional coverage hours: $200/hour'
                    ],
                    description: 'Save when you book both photography and videography together! Perfect coordination ensures every moment is captured beautifully from both perspectives.'
                },
                all_inclusive: {
                    name: 'All-Inclusive Wedding Package',
                    price: 'Starting at $5,500',
                    includes: [
                        'Premium Photography Package (all features)',
                        'Premium Videography Package (all features)',
                        'Premium DJ Package (all features)',
                        'Coordinated timeline and seamless event flow',
                        'Dedicated event coordinator',
                        'Comprehensive planning sessions (3 total)',
                        'Full day coverage from getting ready through reception',
                        '400+ edited photos',
                        '8-10 minute cinematic highlight reel',
                        'Same-day edit sneak peek',
                        'Full ceremony and reception video',
                        'Professional DJ/MC services (up to 8 hours)',
                        'Premium lighting and sound',
                        'Engagement session included',
                        'Wedding album (physical)',
                        'USB drive with all content',
                        'Maximum savings with bundle discount (save $1,300+)',
                        'Single point of contact for all services',
                        'Backup equipment for all services',
                        'Venue coordination assistance'
                    ],
                    timeline: 'Same-day edit delivered day of event, Final content within 4-5 weeks, Album within 6-8 weeks',
                    addons: [
                        'Extended DJ coverage (10+ hours): $200/hour',
                        'Additional videographer: $400',
                        'Additional photographer: $300',
                        'Extended drone coverage: $400',
                        'Rush editing: $800',
                        'Parent albums: $400 each',
                        'Photo booth package: $600'
                    ],
                    description: 'Complete wedding coverage - photography, videography, and DJ all in one! Maximum value with seamless coordination and significant savings. Perfect for couples who want it all handled professionally in one package.'
                }
            }
        };

        // Business availability information
        const businessHours = {
            monday: { open: 9, close: 17, available: true },
            tuesday: { open: 9, close: 17, available: true },
            wednesday: { open: 9, close: 17, available: true },
            thursday: { open: 9, close: 17, available: true },
            friday: { open: 9, close: 17, available: true },
            saturday: { open: 10, close: 14, available: true }, // Limited hours on Saturday
            sunday: { open: null, close: null, available: false } // Closed on Sunday
        };

        // Holidays or special dates when business is closed (format: 'MM-DD')
        const closedDates = [
            '01-01', // New Year's Day
            '07-04', // Independence Day
            '12-25', // Christmas
            '12-31', // New Year's Eve
        ];

        function getCurrentBusinessStatus() {
            const now = new Date();
            const dayOfWeek = ['sunday', 'monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday'][now.getDay()];
            const currentHour = now.getHours();
            const currentDate = `${String(now.getMonth() + 1).padStart(2, '0')}-${String(now.getDate()).padStart(2, '0')}`;
            
            // Check if it's a holiday
            if (closedDates.includes(currentDate)) {
                return {
                    isAvailable: false,
                    reason: 'holiday',
                    message: 'We are currently closed for a holiday. We\'ll be back to normal business hours tomorrow!'
                };
            }

            const dayInfo = businessHours[dayOfWeek];
            
            if (!dayInfo.available) {
                return {
                    isAvailable: false,
                    reason: 'closed_day',
                    message: `We are currently closed (${dayOfWeek.charAt(0).toUpperCase() + dayOfWeek.slice(1)}). Our regular business hours are Monday-Friday 9am-5pm and Saturday 10am-2pm.`
                };
            }

            if (currentHour < dayInfo.open || currentHour >= dayInfo.close) {
                const nextOpen = dayInfo.close > currentHour ? 
                    `We'll be open today until ${dayInfo.close === 17 ? '5pm' : dayInfo.close === 14 ? '2pm' : dayInfo.close + ':00'}.` :
                    `We'll be open tomorrow at ${businessHours[dayOfWeek === 'saturday' ? 'monday' : dayOfWeek === 'friday' ? 'monday' : 'tuesday'].open}am.`;
                
                return {
                    isAvailable: false,
                    reason: 'outside_hours',
                    message: `We are currently closed. ${nextOpen} Our business hours are Monday-Friday 9am-5pm and Saturday 10am-2pm.`
                };
            }

            return {
                isAvailable: true,
                reason: 'open',
                message: 'We are currently available! How can we help you today?'
            };
        }

        function getBusinessHoursMessage() {
            return `ðŸ“… Our Business Hours:\n\n` +
                   `Monday - Friday: 9:00 AM - 5:00 PM\n` +
                   `Saturday: 10:00 AM - 2:00 PM\n` +
                   `Sunday: Closed\n\n` +
                   `We're available for events on weekends and evenings! For immediate assistance, please call 229-326-5408 or email lee@externallyyoursproductions.com`;
        }

        // Simple responses - can be replaced with API calls
        const chatbotResponses = [
            { keywords: ['hello', 'hi', 'hey'], response: () => {
                const status = getCurrentBusinessStatus();
                if (status.isAvailable) {
                    return 'Hello! ðŸ‘‹ We\'re here and ready to help! What would you like to know about our packages and services?';
                } else {
                    return `Hello! ðŸ‘‹ ${status.message}\n\nYou can still reach us via email at lee@externallyyoursproductions.com and we'll get back to you as soon as possible!`;
                }
            }},
            { keywords: ['service', 'services', 'what do you do'], response: 'We offer videography, photography, and DJ entertainment services for weddings, events, and special occasions. Would you like to know about our packages?' },
            { keywords: ['price', 'cost', 'how much', 'pricing'], response: 'Our packages start at different price points:\nðŸ“¸ Photography: Starting at $1,200\nðŸŽ¥ Videography: Starting at $1,500\nðŸŽ§ DJ Services: Starting at $800\n\nWould you like details on a specific package?' },
            { keywords: ['contact', 'email', 'phone', 'number'], response: 'You can reach us at:\nðŸ“§ Email: lee@externallyyoursproductions.com\nðŸ“ž Phone: 229-326-5408\nðŸ“ Location: Tifton, Georgia 31794' },
            { keywords: ['wedding', 'weddings'], response: 'We specialize in wedding photography, videography, and DJ services! We offer packages for every budget. Would you like to hear about our wedding packages?' },
            { keywords: ['portfolio', 'gallery', 'photos', 'videos'], response: 'Check out our portfolio section above to see samples of our work! You can also visit our Photography, Videography, and DJ Entertainment pages for more galleries.' },
            { keywords: ['hours', 'open', 'closed', 'available', 'when are you open', 'business hours'], response: getBusinessHoursMessage },
        ];

        const defaultResponse = "Thank you for your message! For detailed inquiries, please contact us at lee@externallyyoursproductions.com or call 229-326-5408. We'll get back to you as soon as possible!";

        function formatPackageInfo(pkg) {
            let response = `ðŸ“¦ ${pkg.name}\nðŸ’° ${pkg.price}\n\n${pkg.description}\n\nâœ¨ Includes:\n`;
            pkg.includes.forEach(item => {
                response += `â€¢ ${item}\n`;
            });
            if (pkg.timeline) {
                response += `\nâ° Timeline:\n${pkg.timeline}\n`;
            }
            if (pkg.addons && pkg.addons.length > 0) {
                response += `\nâž• Available Add-ons:\n`;
                pkg.addons.forEach(addon => {
                    response += `â€¢ ${addon}\n`;
                });
            }
            return response;
        }

        // Date availability checking
        let chatbotBlockedDates = new Set();
        let chatbotBookingDates = new Set();

        async function loadChatbotDates() {
            try {
                const [blockedDatesResponse, bookingsResponse] = await Promise.all([
                    fetch('/api/blocked-dates'),
                    fetch('/api/bookings')
                ]);

                const blockedDatesResult = await blockedDatesResponse.json();
                const bookingsResult = await bookingsResponse.json();

                chatbotBlockedDates.clear();
                chatbotBookingDates.clear();

                if (blockedDatesResult.success && blockedDatesResult.data) {
                    blockedDatesResult.data.forEach(bd => {
                        if ((bd.status || 'approved') === 'approved' && bd.date) {
                            let dateStr = bd.date;
                            if (dateStr.includes('T')) {
                                dateStr = dateStr.split('T')[0];
                            }
                            chatbotBlockedDates.add(dateStr);
                        }
                    });
                }

                if (bookingsResult.success && bookingsResult.data) {
                    bookingsResult.data.forEach(booking => {
                        if (booking.date) {
                            let dateStr = booking.date;
                            if (dateStr.includes('T')) {
                                dateStr = dateStr.split('T')[0];
                            }
                            chatbotBookingDates.add(dateStr);
                        }
                    });
                }
            } catch (error) {
                console.error('Error loading dates for chatbot:', error);
            }
        }

        // Load dates when page loads
        loadChatbotDates();

        function parseDate(dateString) {
            // Try various date formats
            const formats = [
                /(\d{1,2})\/(\d{1,2})\/(\d{4})/,  // MM/DD/YYYY or M/D/YYYY
                /(\d{4})-(\d{1,2})-(\d{1,2})/,    // YYYY-MM-DD
                /(\d{1,2})-(\d{1,2})-(\d{4})/,    // MM-DD-YYYY or M-D-YYYY
                /(\w+)\s+(\d{1,2}),?\s+(\d{4})/,  // Month DD, YYYY or Month DD YYYY
            ];

            for (const format of formats) {
                const match = dateString.match(format);
                if (match) {
                    if (format === formats[0] || format === formats[2]) {
                        // MM/DD/YYYY or MM-DD-YYYY
                        const month = parseInt(match[1], 10);
                        const day = parseInt(match[2], 10);
                        const year = parseInt(match[3], 10);
                        return new Date(year, month - 1, day);
                    } else if (format === formats[1]) {
                        // YYYY-MM-DD
                        const year = parseInt(match[1], 10);
                        const month = parseInt(match[2], 10);
                        const day = parseInt(match[3], 10);
                        return new Date(year, month - 1, day);
                    } else if (format === formats[3]) {
                        // Month DD, YYYY
                        const monthNames = ['january', 'february', 'march', 'april', 'may', 'june', 'july', 'august', 'september', 'october', 'november', 'december'];
                        const month = monthNames.indexOf(match[1].toLowerCase());
                        const day = parseInt(match[2], 10);
                        const year = parseInt(match[3], 10);
                        if (month >= 0) {
                            return new Date(year, month, day);
                        }
                    }
                }
            }
            return null;
        }

        function formatDateDisplay(date) {
            const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];
            return `${months[date.getMonth()]} ${date.getDate()}, ${date.getFullYear()}`;
        }

        function formatDateYYYYMMDD(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        function checkDateAvailability(dateString) {
            const date = parseDate(dateString);
            if (!date) {
                return null; // Could not parse date
            }

            const dateStr = formatDateYYYYMMDD(date);
            const isBlocked = chatbotBlockedDates.has(dateStr);
            const hasBooking = chatbotBookingDates.has(dateStr);
            const isUnavailable = isBlocked || hasBooking;
            const isPast = date < new Date();
            const formattedDisplay = formatDateDisplay(date);

            return {
                date: date,
                dateStr: dateStr,
                formattedDisplay: formattedDisplay,
                isAvailable: !isUnavailable && !isPast,
                isBlocked: isBlocked,
                hasBooking: hasBooking,
                isPast: isPast
            };
        }

        function getChatbotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Check for date availability queries
            const dateKeywords = ['available', 'availability', 'free', 'open', 'book', 'booking', 'schedule', 'date'];
            const hasDateKeyword = dateKeywords.some(keyword => lowerMessage.includes(keyword));
            
            // Try to extract date from message
            const dateMatch = lowerMessage.match(/\b(\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}|\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}|(january|february|march|april|may|june|july|august|september|october|november|december)\s+\d{1,2},?\s+\d{4}|\d{1,2}\s+(january|february|march|april|may|june|july|august|september|october|november|december),?\s+\d{4})\b/i);
            
            if (hasDateKeyword || dateMatch) {
                // Reload dates to ensure we have current data
                loadChatbotDates();
                
                if (dateMatch) {
                    const dateString = dateMatch[1];
                    const availability = checkDateAvailability(dateString);
                    
                    if (availability === null) {
                        return "I had trouble understanding that date. Could you please provide the date in a format like MM/DD/YYYY (e.g., 06/15/2024) or Month Day, Year (e.g., June 15, 2024)?";
                    }
                    
                    if (availability.isPast) {
                        return `I checked ${availability.formattedDisplay} - that date is in the past. Please provide a future date to check availability!`;
                    }
                    
                    if (availability.isAvailable) {
                        return `âœ… Great news! ${availability.formattedDisplay} is AVAILABLE! ðŸŽ‰\n\nWe'd love to help make your event special. Would you like to:\nâ€¢ Learn about our packages?\nâ€¢ Schedule a consultation?\nâ€¢ Get a quote?\n\nContact us at lee@externallyyoursproductions.com or 229-326-5408 to reserve this date!`;
                    } else {
                        let reason = availability.hasBooking ? 'we have a booking' : 'the date is blocked';
                        return `âŒ I'm sorry, but ${availability.formattedDisplay} is NOT AVAILABLE. ${reason.charAt(0).toUpperCase() + reason.slice(1)}.\n\nPlease check our calendar on this page or contact us to inquire about alternative dates. We'd be happy to find another date that works for you!\n\nðŸ“§ Email: lee@externallyyoursproductions.com\nðŸ“ž Phone: 229-326-5408`;
                    }
                } else {
                    // General availability question without specific date
                    return "I'd be happy to check date availability for you! Please provide a specific date (e.g., 06/15/2024 or June 15, 2024) and I'll check if it's available.\n\nYou can also:\nâ€¢ View our full calendar on this page\nâ€¢ Contact us at lee@externallyyoursproductions.com or 229-326-5408 to discuss dates";
                }
            }
            
            // Check for package-specific queries
            if (lowerMessage.includes('package') || lowerMessage.includes('packages') || lowerMessage.includes('pricing') || lowerMessage.includes('what\'s included')) {
                // Photography packages
                if (lowerMessage.includes('photo') || lowerMessage.includes('photography') || lowerMessage.includes('photographer')) {
                    if (lowerMessage.includes('basic') || lowerMessage.includes('starter') || lowerMessage.includes('cheap') || lowerMessage.includes('budget')) {
                        return formatPackageInfo(packages.photography.basic);
                    } else if (lowerMessage.includes('premium') || lowerMessage.includes('deluxe') || lowerMessage.includes('top') || lowerMessage.includes('best')) {
                        return formatPackageInfo(packages.photography.premium);
                    } else if (lowerMessage.includes('standard') || lowerMessage.includes('popular') || lowerMessage.includes('recommended')) {
                        return formatPackageInfo(packages.photography.standard);
                    } else {
                        return `ðŸ“¸ We offer three Photography packages:\n\n1ï¸âƒ£ Basic - ${packages.photography.basic.price}\n2ï¸âƒ£ Standard - ${packages.photography.standard.price}\n3ï¸âƒ£ Premium - ${packages.photography.premium.price}\n\nWhich package would you like to learn more about?`;
                    }
                }
                
                // Videography packages
                if (lowerMessage.includes('video') || lowerMessage.includes('videography') || lowerMessage.includes('videographer') || lowerMessage.includes('film')) {
                    if (lowerMessage.includes('basic') || lowerMessage.includes('starter') || lowerMessage.includes('cheap') || lowerMessage.includes('budget')) {
                        return formatPackageInfo(packages.videography.basic);
                    } else if (lowerMessage.includes('premium') || lowerMessage.includes('deluxe') || lowerMessage.includes('top') || lowerMessage.includes('best')) {
                        return formatPackageInfo(packages.videography.premium);
                    } else if (lowerMessage.includes('standard') || lowerMessage.includes('popular') || lowerMessage.includes('recommended')) {
                        return formatPackageInfo(packages.videography.standard);
                    } else {
                        return `ðŸŽ¥ We offer three Videography packages:\n\n1ï¸âƒ£ Basic - ${packages.videography.basic.price}\n2ï¸âƒ£ Standard - ${packages.videography.standard.price}\n3ï¸âƒ£ Premium - ${packages.videography.premium.price}\n\nWhich package would you like to learn more about?`;
                    }
                }
                
                // DJ packages
                if (lowerMessage.includes('dj') || lowerMessage.includes('disc jockey') || lowerMessage.includes('music') || lowerMessage.includes('entertainment')) {
                    if (lowerMessage.includes('basic') || lowerMessage.includes('starter') || lowerMessage.includes('cheap') || lowerMessage.includes('budget')) {
                        return formatPackageInfo(packages.dj.basic);
                    } else if (lowerMessage.includes('premium') || lowerMessage.includes('deluxe') || lowerMessage.includes('top') || lowerMessage.includes('best')) {
                        return formatPackageInfo(packages.dj.premium);
                    } else if (lowerMessage.includes('standard') || lowerMessage.includes('popular') || lowerMessage.includes('recommended')) {
                        return formatPackageInfo(packages.dj.standard);
                    } else {
                        return `ðŸŽ§ We offer three DJ packages:\n\n1ï¸âƒ£ Basic - ${packages.dj.basic.price}\n2ï¸âƒ£ Standard - ${packages.dj.standard.price}\n3ï¸âƒ£ Premium - ${packages.dj.premium.price}\n\nWhich package would you like to learn more about?`;
                    }
                }
                
                // Combo packages
                if (lowerMessage.includes('combo') || lowerMessage.includes('bundle') || lowerMessage.includes('all') || lowerMessage.includes('everything') || lowerMessage.includes('both')) {
                    if (lowerMessage.includes('photo') && lowerMessage.includes('video')) {
                        return formatPackageInfo(packages.combo.photography_videography);
                    } else if (lowerMessage.includes('all') || lowerMessage.includes('everything') || lowerMessage.includes('full')) {
                        return formatPackageInfo(packages.combo.all_inclusive);
                    } else {
                        return `ðŸŽ We offer combo packages:\n\n1ï¸âƒ£ Photo + Video Combo - ${packages.combo.photography_videography.price}\n2ï¸âƒ£ All-Inclusive Wedding Package - ${packages.combo.all_inclusive.price}\n\nWhich would you like to learn more about?`;
                    }
                }
                
                // General package inquiry
                return `We offer packages for all our services:\n\nðŸ“¸ Photography Packages: Basic, Standard, Premium\nðŸŽ¥ Videography Packages: Basic, Standard, Premium\nðŸŽ§ DJ Packages: Basic, Standard, Premium\nðŸŽ Combo Packages: Photo+Video, All-Inclusive\n\nWhich service are you interested in?`;
            }
            
            // Check other keyword responses
            for (const item of chatbotResponses) {
                if (item.keywords.some(keyword => lowerMessage.includes(keyword))) {
                    // Handle function responses (for dynamic content like business hours)
                    if (typeof item.response === 'function') {
                        return item.response();
                    }
                    return item.response;
                }
            }
            
            // Check if user is asking about current availability
            if (lowerMessage.includes('are you available') || lowerMessage.includes('are you open') || 
                lowerMessage.includes('are you there') || lowerMessage.includes('can you help')) {
                const status = getCurrentBusinessStatus();
                if (status.isAvailable) {
                    return 'Yes! We\'re here and ready to help! What would you like to know?';
                } else {
                    return `${status.message}\n\n${getBusinessHoursMessage()}`;
                }
            }
            
            return defaultResponse;
        }

        function addMessage(text, isUser = false) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `chatbot-message ${isUser ? 'user' : 'bot'}`;
            messageDiv.innerHTML = `<p>${text.replace(/\n/g, '<br>')}</p>`;
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function showTyping() {
            chatbotTyping.classList.add('show');
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function hideTyping() {
            chatbotTyping.classList.remove('show');
        }

        // Get or create conversation ID
        function getConversationId() {
            let conversationId = sessionStorage.getItem('chatbot_conversation_id');
            if (!conversationId) {
                conversationId = 'new';
                sessionStorage.setItem('chatbot_conversation_id', conversationId);
            }
            return conversationId;
        }

        // Save message to API (fire and forget - don't block user experience)
        async function saveMessageToAPI(message) {
            try {
                const conversationId = getConversationId();
                const response = await fetch('/api/chatbot-messages', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        conversationId: conversationId,
                        message: message,
                        senderName: null, // User can provide this later if needed
                        senderEmail: null,
                        senderPhone: null
                    })
                });

                if (response.ok) {
                    const data = await response.json();
                    // Update conversation ID if it was a new conversation
                    if (data.data && data.data.conversationId && conversationId === 'new') {
                        sessionStorage.setItem('chatbot_conversation_id', data.data.conversationId);
                    }
                }
            } catch (error) {
                // Silently fail - don't interrupt user experience
                console.error('Error saving message to API:', error);
            }
        }

        async function sendMessage() {
            const message = chatbotInput.value.trim();
            if (!message) return;

            addMessage(message, true);
            chatbotInput.value = '';
            chatbotSend.disabled = true;

            // Save user message to API (async, non-blocking)
            saveMessageToAPI(message);

            showTyping();

            // For date checks, reload dates first to ensure accuracy
            const lowerMessage = message.toLowerCase();
            const dateKeywords = ['available', 'availability', 'free', 'open', 'book', 'booking', 'schedule', 'date'];
            const hasDateKeyword = dateKeywords.some(keyword => lowerMessage.includes(keyword));
            
            if (hasDateKeyword) {
                await loadChatbotDates();
            }

            // Simulate bot thinking time
            setTimeout(() => {
                hideTyping();
                const response = getChatbotResponse(message);
                addMessage(response);
                chatbotSend.disabled = false;
                chatbotInput.focus();
            }, 1000 + Math.random() * 1000);
        }

        // Update welcome message based on current availability
        function updateWelcomeMessage() {
            const welcomeMessage = document.getElementById('chatbotWelcomeMessage');
            if (welcomeMessage) {
                const status = getCurrentBusinessStatus();
                if (!status.isAvailable) {
                    welcomeMessage.innerHTML = `<p>Hello! ðŸ‘‹ ${status.message}<br><br>You can still reach us via email at lee@externallyyoursproductions.com and we'll get back to you as soon as possible!</p>`;
                }
            }
        }

        // Update welcome message on page load
        updateWelcomeMessage();

        if (chatbotToggle && chatbotWindow) {
            chatbotToggle.addEventListener('click', () => {
                chatbotWindow.classList.toggle('active');
                chatbotToggle.classList.toggle('active');
                if (chatbotWindow.classList.contains('active')) {
                    chatbotInput.focus();
                    // Refresh availability status when opening
                    updateWelcomeMessage();
                }
            });

            chatbotClose.addEventListener('click', () => {
                chatbotWindow.classList.remove('active');
                chatbotToggle.classList.remove('active');
            });

            chatbotSend.addEventListener('click', sendMessage);

            chatbotInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }

        // Navbar background on scroll
        window.addEventListener('scroll', () => {
            const nav = document.querySelector('nav');
            if (window.scrollY > 100) {
                nav.style.background = 'rgba(26, 26, 26, 0.98)';
            } else {
                nav.style.background = 'rgba(26, 26, 26, 0.95)';
            }
        });

        // Gallery modal functions
        function openGallery(galleryId) {
            const modal = document.getElementById(galleryId);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent background scrolling
            }
        }

        function closeGallery(galleryId) {
            const modal = document.getElementById(galleryId);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = ''; // Restore scrolling
            }
        }

        // Close gallery when clicking outside the content
        window.addEventListener('click', (e) => {
            if (e.target.classList.contains('gallery-modal')) {
                e.target.classList.remove('active');
                document.body.style.overflow = '';
            }
        });

        // Close gallery with Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                const activeGallery = document.querySelector('.gallery-modal.active');
                if (activeGallery) {
                    activeGallery.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }
        });

        // Extract testimonials from page and store them for DJ review sync
        function extractTestimonialsFromPage() {
            const testimonials = [];
            const testimonialCards = document.querySelectorAll('.testimonial-card');
            
            testimonialCards.forEach(card => {
                const textElement = card.querySelector('.testimonial-text');
                const text = textElement ? textElement.textContent.trim() : '';
                
                if (!text) return;
                
                // Extract date
                const dateElement = card.querySelector('.testimonial-date');
                let date = '';
                if (dateElement) {
                    const dateText = dateElement.textContent.trim();
                    const yearMatch = dateText.match(/\b(20\d{2})\b/);
                    if (yearMatch) {
                        date = yearMatch[1];
                    }
                }
                
                // Extract service/event
                const serviceElement = card.querySelector('.testimonial-service-label');
                const service = serviceElement ? serviceElement.textContent.trim() : '';
                
                testimonials.push({
                    text: text,
                    date: date || new Date().getFullYear().toString(),
                    service: service,
                    source: 'website_html'
                });
            });
            
            if (testimonials.length > 0) {
                localStorage.setItem('website_testimonials', JSON.stringify(testimonials));
                console.log(`Extracted ${testimonials.length} testimonials from website.`);
            }
            
            return testimonials;
        }

        // Extract testimonials when page loads
        document.addEventListener('DOMContentLoaded', extractTestimonialsFromPage);

        // Load approved reviews from API and add to testimonials
        async function loadApprovedReviews() {
            try {
                const response = await fetch('/api/reviews?status=approved');
                const result = await response.json();
                
                if (result.success && result.data && result.data.length > 0) {
                    const testimonialsContainer = document.getElementById('testimonials-container');
                    if (!testimonialsContainer) return;
                    
                    // Get existing hardcoded testimonials count
                    const existingCount = testimonialsContainer.querySelectorAll('.testimonial-card').length;
                    
                    // Add approved reviews to the container
                    result.data.forEach(review => {
                        const year = review.eventDate 
                            ? new Date(review.eventDate).getFullYear() 
                            : review.createdAt 
                                ? new Date(review.createdAt).getFullYear() 
                                : new Date().getFullYear();
                        
                        const testimonialCard = document.createElement('div');
                        testimonialCard.className = 'testimonial-card';
                        testimonialCard.innerHTML = `
                            <div class="testimonial-content">
                                <p class="testimonial-text">"${escapeHtml(review.comment)}"</p>
                            </div>
                            <div class="testimonial-service">
                                <p class="testimonial-service-label">${escapeHtml(review.serviceType || 'Services')}</p>
                                <p class="testimonial-date">${year}</p>
                            </div>
                        `;
                        
                        // Insert after existing testimonials
                        testimonialsContainer.appendChild(testimonialCard);
                    });
                }
            } catch (error) {
                console.error('Error loading approved reviews:', error);
                // Silently fail - hardcoded testimonials will still show
            }
        }
        
        // Helper function to escape HTML
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
        
        // Load approved reviews when page loads
        document.addEventListener('DOMContentLoaded', loadApprovedReviews);

        // Review Form Submission
        document.addEventListener('DOMContentLoaded', function() {
            const reviewForm = document.getElementById('review-form');
            const reviewMessage = document.getElementById('review-message');
            
            if (reviewForm) {
                reviewForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    
                    const clientName = document.getElementById('review-client-name').value.trim();
                    const serviceType = document.getElementById('review-service-type').value;
                    const djUsername = document.getElementById('review-dj-name').value.trim() || null;
                    const rating = document.getElementById('review-rating').value || null;
                    const comment = document.getElementById('review-comment').value.trim();
                    const eventDate = document.getElementById('review-event-date').value || null;
                    
                    // Validation
                    if (!clientName || !serviceType || !comment) {
                        showReviewMessage('Please fill in all required fields.', 'error');
                        return;
                    }
                    
                    // Disable submit button
                    const submitButton = reviewForm.querySelector('button[type="submit"]');
                    const originalButtonText = submitButton.textContent;
                    submitButton.disabled = true;
                    submitButton.textContent = 'Submitting...';
                    
                    try {
                        const response = await fetch('/api/reviews', {
                            method: 'POST',
                            headers: {
                                'Content-Type': 'application/json'
                            },
                            body: JSON.stringify({
                                clientName: clientName,
                                serviceType: serviceType,
                                djUsername: djUsername,
                                rating: rating ? parseInt(rating) : null,
                                comment: comment,
                                eventDate: eventDate
                            })
                        });
                        
                        const result = await response.json();
                        
                        if (result.success) {
                            showReviewMessage('Thank you for your review! It has been submitted and will be reviewed before being published.', 'success');
                            reviewForm.reset();
                        } else {
                            showReviewMessage(result.error || 'Failed to submit review. Please try again.', 'error');
                        }
                    } catch (error) {
                        console.error('Error submitting review:', error);
                        showReviewMessage('An error occurred while submitting your review. Please try again later.', 'error');
                    } finally {
                        submitButton.disabled = false;
                        submitButton.textContent = originalButtonText;
                    }
                });
            }
            
            function showReviewMessage(message, type) {
                if (!reviewMessage) return;
                reviewMessage.textContent = message;
                reviewMessage.style.display = 'block';
                reviewMessage.style.padding = '1rem';
                reviewMessage.style.borderRadius = '5px';
                reviewMessage.style.marginTop = '1rem';
                if (type === 'success') {
                    reviewMessage.style.background = '#d4edda';
                    reviewMessage.style.color = '#155724';
                    reviewMessage.style.border = '1px solid #c3e6cb';
                } else {
                    reviewMessage.style.background = '#f8d7da';
                    reviewMessage.style.color = '#721c24';
                    reviewMessage.style.border = '1px solid #f5c6cb';
                }
                
                // Scroll to message
                reviewMessage.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }
        });

        // Available Dates Calendar
        let calendarMonth = new Date().getMonth();
        let calendarYear = new Date().getFullYear();
        let blockedDates = new Set();
        let bookingDates = new Set();
        let datesCache = null;
        let datesCacheTime = null;
        const DATES_CACHE_DURATION = 5 * 60 * 1000; // 5 minutes cache
        const API_TIMEOUT = 8000; // 8 second timeout

        // Fetch with timeout
        async function fetchWithTimeout(url, timeout = API_TIMEOUT) {
            const controller = new AbortController();
            const timeoutId = setTimeout(() => controller.abort(), timeout);
            
            try {
                const response = await fetch(url, { signal: controller.signal });
                clearTimeout(timeoutId);
                return response;
            } catch (error) {
                clearTimeout(timeoutId);
                if (error.name === 'AbortError') {
                    throw new Error('Request timed out');
                }
                throw error;
            }
        }

        // Load availability data in the background
        async function loadAvailableDates() {
            // Check cache first
            const now = Date.now();
            if (datesCache && datesCacheTime && (now - datesCacheTime) < DATES_CACHE_DURATION) {
                blockedDates = new Set(datesCache.blockedDates);
                bookingDates = new Set(datesCache.bookingDates);
                generateDatesCalendar(); // Re-render with cached data
                return;
            }
            
            try {
                // Fetch both blocked dates and bookings in parallel with timeout
                const [blockedDatesResponse, bookingsResponse] = await Promise.all([
                    fetchWithTimeout('/api/blocked-dates').catch(err => {
                        console.warn('Failed to load blocked dates:', err);
                        return null;
                    }),
                    fetchWithTimeout('/api/bookings').catch(err => {
                        console.warn('Failed to load bookings:', err);
                        return null;
                    })
                ]);

                const blockedDatesSet = new Set();
                const bookingsSet = new Set();

                // Get admin-approved blocked dates only for DJ-Admin (exclude all other DJs)
                if (blockedDatesResponse && blockedDatesResponse.ok) {
                    try {
                        const blockedDatesResult = await blockedDatesResponse.json();
                        if (blockedDatesResult.success && blockedDatesResult.data) {
                            blockedDatesResult.data.forEach(bd => {
                                // Only include admin-approved blocked dates with status 'approved'
                                // ONLY show blocked dates where djUser is "DJ-Admin" or "DJ: Admin" (case-insensitive, handles space/hyphen/colon variations)
                                // EXCLUDE all other DJs (Gavin, Stephen, Will, etc.)
                                if (bd.status === 'approved' && bd.date) {
                                    const djUser = (bd.djUser || '').trim().toLowerCase();
                                    // Normalize spaces, hyphens, and colons for comparison
                                    // Handles "dj-admin", "dj admin", "dj: admin", "DJ-Admin", "DJ: Admin", etc.
                                    const normalizedDJUser = djUser
                                        .replace(/[:]+/g, '-')  // Replace colons with hyphens
                                        .replace(/\s+/g, '-')   // Replace spaces with hyphens
                                        .replace(/-+/g, '-');   // Normalize multiple hyphens to single hyphen
                                    
                                    // Only include if djUser matches "dj-admin" (handles all variations)
                                    if (normalizedDJUser === 'dj-admin') {
                                        // Normalize date to YYYY-MM-DD format (calendar uses this format)
                                        let dateStr = bd.date;
                                        
                                        // Handle ISO format with time (e.g., "2026-02-14T00:00:00.000Z")
                                        if (dateStr.includes('T')) {
                                            dateStr = dateStr.split('T')[0];
                                        }
                                        
                                        // Check if already in YYYY-MM-DD format
                                        if (/^\d{4}-\d{2}-\d{2}$/.test(dateStr)) {
                                            blockedDatesSet.add(dateStr);
                                        } else {
                                            // Try to parse other formats
                                            try {
                                                // Handle MM-DD-YYYY format explicitly
                                                if (/^\d{2}-\d{2}-\d{4}$/.test(dateStr)) {
                                                    const parts = dateStr.split('-');
                                                    dateStr = `${parts[2]}-${parts[0]}-${parts[1]}`;
                                                }
                                                // Parse with Date object to handle various formats
                                                const dateObj = new Date(dateStr);
                                                if (!isNaN(dateObj.getTime())) {
                                                    // Convert to YYYY-MM-DD format
                                                    const year = dateObj.getFullYear();
                                                    const month = String(dateObj.getMonth() + 1).padStart(2, '0');
                                                    const day = String(dateObj.getDate()).padStart(2, '0');
                                                    dateStr = `${year}-${month}-${day}`;
                                                    blockedDatesSet.add(dateStr);
                                                }
                                            } catch (e) {
                                                console.warn('Error parsing blocked date:', bd.date, e);
                                            }
                                        }
                                    }
                                    // All other djUser values (Gavin, Stephen, Will, etc.) are excluded
                                }
                            });
                        }
                    } catch (err) {
                        console.warn('Error parsing blocked dates:', err);
                    }
                }

                // Get booking dates (events)
                if (bookingsResponse && bookingsResponse.ok) {
                    try {
                        const bookingsResult = await bookingsResponse.json();
                        if (bookingsResult.success && bookingsResult.data) {
                            bookingsResult.data.forEach(booking => {
                                if (booking.date) {
                                    // Normalize date to YYYY-MM-DD
                                    let dateStr = booking.date;
                                    if (dateStr.includes('T')) {
                                        dateStr = dateStr.split('T')[0];
                                    }
                                    bookingsSet.add(dateStr);
                                }
                            });
                        }
                    } catch (err) {
                        console.warn('Error parsing bookings:', err);
                    }
                }

                // Update global sets and cache
                blockedDates = blockedDatesSet;
                bookingDates = bookingsSet;
                datesCache = { blockedDates: Array.from(blockedDatesSet), bookingDates: Array.from(bookingsSet) };
                datesCacheTime = now;

                // Regenerate calendar with loaded data
                generateDatesCalendar();
            } catch (error) {
                console.error('Error loading available dates:', error);
                // Calendar already rendered, data will update when API is available
            }
        }

        function generateDatesCalendar(monthOffset = 0) {
            if (monthOffset !== 0) {
                const newDate = new Date(calendarYear, calendarMonth + monthOffset, 1);
                calendarMonth = newDate.getMonth();
                calendarYear = newDate.getFullYear();
            } else {
                const today = new Date();
                calendarMonth = today.getMonth();
                calendarYear = today.getFullYear();
            }

            const monthNames = ["January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"];

            const today = new Date();
            today.setHours(0, 0, 0, 0);

            let html = `
                <div class="calendar-nav">
                    <button onclick="generateDatesCalendar(-1)">â† Previous</button>
                    <h3>${monthNames[calendarMonth]} ${calendarYear}</h3>
                    <button onclick="generateDatesCalendar(1)">Next â†’</button>
                </div>
                <div class="calendar-today-btn">
                    <button onclick="generateDatesCalendar(0)">Today</button>
                </div>
                <div class="calendar-grid">
            `;

            // Day headers
            const dayHeaders = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];
            dayHeaders.forEach(day => {
                html += `<div class="calendar-day-header">${day}</div>`;
            });

            // Get first day of month
            const firstDay = new Date(calendarYear, calendarMonth, 1).getDay();
            const daysInMonth = new Date(calendarYear, calendarMonth + 1, 0).getDate();

            // Previous month days (faded)
            for (let i = firstDay - 1; i >= 0; i--) {
                html += `<div class="calendar-day other-month"></div>`;
            }

            // Current month days
            for (let day = 1; day <= daysInMonth; day++) {
                const dateStr = `${calendarYear}-${String(calendarMonth + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
                const dateObj = new Date(calendarYear, calendarMonth, day);
                dateObj.setHours(0, 0, 0, 0);
                
                let dayClass = 'calendar-day';
                const isToday = dateObj.getTime() === today.getTime();
                const isBlocked = blockedDates.has(dateStr);
                const hasBooking = bookingDates.has(dateStr);
                const isUnavailable = isBlocked || hasBooking;

                // Only show blacked out dates for events and admin approved blackout dates
                if (isToday) {
                    dayClass += ' today';
                } else if (isUnavailable) {
                    dayClass += ' blocked';
                }
                // Available dates don't get a special class - they appear as normal calendar days

                html += `<div class="${dayClass}">${day}</div>`;
            }

            // Next month days (faded)
            const totalCells = firstDay + daysInMonth;
            const remainingCells = 42 - totalCells; // 6 rows * 7 days
            for (let i = 0; i < remainingCells; i++) {
                html += `<div class="calendar-day other-month"></div>`;
            }

            html += `
                </div>
                <div class="calendar-legend">
                    <div class="legend-item">
                        <div class="legend-color blocked"></div>
                        <span>Unavailable (Events/Blocked Dates)</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color today"></div>
                        <span>Today</span>
                    </div>
                </div>
            `;

            document.getElementById('dates-calendar-container').innerHTML = html;
        }

        // Generate calendar immediately and load data in background
        // Since script is at end of body, DOM is already ready
        generateDatesCalendar();
        loadAvailableDates(); // Load availability data in background
    </script>
    <!-- Cookie Consent -->
    <script src="cookie-consent.js" defer></script>
    <!-- Analytics Tracking -->
    <script src="analytics.js" defer></script>
</body>
</html>
